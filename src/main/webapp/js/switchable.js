KISSY.add("switchable/base",function(a,b,c,d){function q(c,d){var e=this;d=d||{},"markupType"in d||(d.panelCls?d.markupType=1:d.panels&&(d.markupType=2));var f=this.constructor;while(f)d=a.merge(f.Config,d),f=f.superclass?f.superclass.constructor:null;e.container=b.get(c),e.config=d,e.activeIndex=e.completedIndex=d.activeIndex,e.activeIndex>-1||typeof d.switchTo!="number"&&(e.completedIndex=e.activeIndex=0),e._init(),e._initPlugins(),e.fire(m),e.activeIndex>-1||typeof d.switchTo=="number"&&e.switchTo(d.switchTo)}function r(a){var b={};return b.type=a.originalEvent.type,b.target=a.originalEvent.target||a.originalEvent.srcElement,{originalEvent:b}}var e="display",f="block",g=a.makeArray,h="none",i=c.Target,j="forward",k="backward",l=".",m="init",n="beforeSwitch",o="switch",p="ks-switchable-";return q.getDomEvent=r,q.Config={markupType:0,navCls:p+"nav",contentCls:p+"content",triggerCls:p+"trigger",panelCls:p+"panel",triggers:[],panels:[],hasTriggers:!0,triggerType:"mouse",delay:.1,activeIndex:-1,activeTriggerCls:"ks-active",steps:1,viewSize:[]},q.Plugins=[],a.augment(q,i,{_initPlugins:function(){var b=this,c=b.constructor;while(c)a.each(c.Plugins,function(a){a.init&&a.init(b)}),c=c.superclass?c.superclass.constructor:null},_init:function(){var a=this,b=a.config;a._parseMarkup(),b.hasTriggers&&a._bindTriggers()},_parseMarkup:function(){var a=this,c=a.container,d=a.config,e,f,h=[],i=[],j;switch(d.markupType){case 0:e=b.get(l+d.navCls,c),e&&(h=b.children(e)),f=b.get(l+d.contentCls,c),i=b.children(f);break;case 1:h=b.query(l+d.triggerCls,c),i=b.query(l+d.panelCls,c);break;case 2:h=d.triggers,i=d.panels}j=i.length,a.length=Math.ceil(j/d.steps),d.hasTriggers&&j>0&&h.length===0&&(h=a._generateTriggersMarkup(a.length)),a.triggers=g(h),a.panels=g(i),a.content=f||i[0].parentNode,a.nav=e||d.hasTriggers&&h[0].parentNode},_generateTriggersMarkup:function(a){var c=this,d=c.config,e=b.create("<ul>"),f,g;e.className=d.navCls;for(g=0;g<a;g++)f=b.create("<li>"),g===c.activeIndex&&(f.className=d.activeTriggerCls),f.innerHTML=g+1,e.appendChild(f);return c.container.appendChild(e),b.children(e)},_bindTriggers:function(){var a=this,b=a.config,d=a.triggers,e,f,g=d.length;for(f=0;f<g;f++)(function(f){e=d[f],c.on(e,"click",function(b){a._onFocusTrigger(f,b)}),b.triggerType==="mouse"&&(c.on(e,"mouseenter",function(b){a._onMouseEnterTrigger(f,b)}),c.on(e,"mouseleave",function(){a._onMouseLeaveTrigger(f)}))})(f)},_onFocusTrigger:function(a,b){var c=this;if(!c._triggerIsValid(a))return;this._cancelSwitchTimer(),c.switchTo(a,d,r(b))},_onMouseEnterTrigger:function(b,c){var e=this;if(!e._triggerIsValid(b))return;var f=r(c);e.switchTimer=a.later(function(){e.switchTo(b,d,f)},e.config.delay*1e3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(a){return this.activeIndex!==a},_cancelSwitchTimer:function(){var a=this;a.switchTimer&&(a.switchTimer.cancel(),a.switchTimer=d)},switchTo:function(a,b,c,e){var f=this,g=f.config,h=f.triggers,i=f.panels,l=f.activeIndex,m=g.steps,o=l*m,p=a*m;return f._triggerIsValid(a)?f.fire(n,{toIndex:a})===!1?f:(g.hasTriggers&&f._switchTrigger(l>-1?h[l]:null,h[a]),b===d&&(b=a>l?j:k),f._switchView(l>-1?i.slice(o,o+m):null,i.slice(p,p+m),a,b,c,function(){e&&e.call(f,a),f.completedIndex=a}),f.activeIndex=a,f):f},_switchTrigger:function(a,c){var d=this.config.activeTriggerCls;a&&b.removeClass(a,d),b.addClass(c,d)},_switchView:function(a,c,d,g,i,j){a&&b.css(a,e,h),b.css(c,e,f),this._fireOnSwitch(d,i),j&&j.call(this)},_fireOnSwitch:function(b,c){this.fire(o,a.mix(c||{},{currentIndex:b}))},prev:function(a){var b=this,c=b.activeIndex;b.switchTo(c>0?c-1:b.length-1,k,a)},next:function(a){var b=this,c=b.activeIndex;b.switchTo(c<b.length-1?c+1:0,j,a)}}),q},{requires:["dom","event"]}),KISSY.add("switchable/aria",function(a,b,c,d){function e(){this.stop&&this.stop()}function f(){this.start&&this.start()}d.Plugins.push({name:"aria",init:function(a){if(!a.config.aria)return;var b=a.container;c.on(b,"focusin",e,a),c.on(b,"focusout",f,a)}});var g=["a","input","button","object"],h="oriTabIndex";return{setTabIndex:function(c,d){c.tabIndex=d,b.query("*",c).each(function(c){var e=c.nodeName.toLowerCase();a.inArray(e,g)&&(b.hasAttr(c,h)||b.attr(c,h,c.tabIndex),d!=-1?c.tabIndex=b.attr(c,h):c.tabIndex=d)})}}},{requires:["dom","event","./base"]}),KISSY.add("switchable/accordion/base",function(a,b,c){function d(a,b){var c=this;if(!(c instanceof d))return new d(a,b);d.superclass.constructor.apply(c,arguments)}return a.extend(d,c,{_switchTrigger:function(a,c){var e=this,f=e.config;f.multiple?b.toggleClass(c,f.activeTriggerCls):d.superclass._switchTrigger.apply(e,arguments)},_triggerIsValid:function(a){return this.config.multiple||d.superclass._triggerIsValid.call(this,a)},_switchView:function(a,c,e,f,g,h){var i=this,j=i.config,k=c[0];j.multiple?(b.toggle(k),this._fireOnSwitch(e,g),h&&h.call(this)):d.superclass._switchView.apply(i,arguments)}}),d.Plugins=[],d.Config={markupType:1,triggerType:"click",multiple:!1},d},{requires:["dom","../base"]}),KISSY.add("switchable/accordion/aria",function(a,b,c,d,e){function r(c){var d=this.triggers,e;return a.each(d,function(a){if(a==c||b.contains(a,c))e=a}),e}function s(c){var d=this.panels,e;return a.each(d,function(a){if(a==c||b.contains(a,c))e=a}),e}function t(b){var c=this.triggers,d=this.panels;return c[a.indexOf(b,d)]}function u(a){var b=this,c=r.call(b,a);return c||(c=t.call(b,s.call(b,a))),c}function v(a){switch(a.keyCode){case f:case g:a.ctrlKey&&!a.altKey&&!a.shiftKey&&a.halt();break;case n:a.ctrlKey&&!a.altKey&&a.halt()}}function w(a){var b=a.target,c=this,d,e=c.triggers,q=!a.ctrlKey&&!a.shiftKey&&!a.altKey,s=a.ctrlKey&&!a.shiftKey&&!a.altKey;switch(a.keyCode){case p:case o:(d=r.call(c,b))&&q&&(B.call(c,d),a.halt());break;case j:case k:if(d=r.call(c,b))y.call(c,d),a.halt();break;case l:case m:if(d=r.call(c,b))A.call(c,d),a.halt();break;case g:s&&(a.halt(),d=u.call(c,b),A.call(c,d));break;case f:s&&(a.halt(),d=u.call(c,b),y.call(c,d));break;case i:q&&(d=u.call(c,b),z.call(c,0),a.halt());break;case h:q&&(d=u.call(c,b),z.call(c,e.length-1),a.halt());break;case n:a.ctrlKey&&!a.altKey&&(a.halt(),d=u.call(c,b),a.shiftKey?y.call(c,d):A.call(c,d))}}function x(c,d){var e=this,f=e.triggers,g=f[c];a.each(f,function(a){if(a===g)return;q(a,"-1"),b.removeClass(a,"ks-switchable-select"),a.setAttribute("aria-selected","false")}),d&&g.focus(),q(g,"0"),b.addClass(g,"ks-switchable-select"),g.setAttribute("aria-selected","true")}function y(b){var c=this,d=c.triggers,e=a.indexOf(b,d),f=e==0?d.length-1:e-1;x.call(c,f,!0)}function z(a){x.call(this,a,!0)}function A(b){var c=this,d=c.triggers,e=a.indexOf(b,d),f=e==d.length-1?0:e+1;x.call(c,f,!0)}function B(b){this.switchTo(a.indexOf(b,this.triggers))}function C(b){var c=!!b.originalEvent.target||!!b.originalEvent.srcElement,d=this,e=d.config.multiple,f=b.currentIndex,g=d.panels,h=d.triggers,i=h[f],j=g[f];e||(a.each(g,function(a){a!==j&&a.setAttribute("aria-hidden","true")}),a.each(h,function(a){a!==i&&a.setAttribute("aria-hidden","true")}));var k=j.getAttribute("aria-hidden");j.setAttribute("aria-hidden",k=="false"?"true":"false"),i.setAttribute("aria-expanded",k=="false"?"false":"true"),x.call(d,f,c)}var f=33,g=34,h=35,i=36,j=37,k=38,l=39,m=40,n=9,o=32,p=13;a.mix(e.Config,{aria:!0}),e.Plugins.push({name:"aria",init:function(d){if(!d.config.aria)return;var e=d.container,f=d.activeIndex;b.attr(e,"aria-multiselectable",d.config.multiple?"true":"false"),d.nav&&b.attr(d.nav,"role","tablist");var g=d.triggers,h=d.panels,i=0;a.each(h,function(b){b.id||(b.id=a.guid("ks-accordion-tab-panel"))}),a.each(g,function(b){b.id||(b.id=a.guid("ks-accordion-tab"))}),a.each(g,function(a){a.setAttribute("role","tab"),a.setAttribute("aria-expanded",f==i?"true":"false"),a.setAttribute("aria-selected",f==i?"true":"false"),a.setAttribute("aria-controls",h[i].id),q(a,f==i?"0":"-1"),i++}),i=0,a.each(h,function(a){var b=g[i];a.setAttribute("role","tabpanel"),a.setAttribute("aria-hidden",f==i?"false":"true"),a.setAttribute("aria-labelledby",b.id),i++}),d.on("switch",C,d),c.on(e,"keydown",w,d),c.on(e,"keypress",v,d)}});var q=d.setTabIndex},{requires:["dom","event","../aria","./base"]}),KISSY.add("switchable/autoplay",function(a,b,c,d){return a.mix(c.Config,{autoplay:!1,interval:5,pauseOnHover:!0}),c.Plugins.push({name:"autoplay",init:function(c){function h(){g=a.later(function(){if(c.paused)return;c.switchTo(c.activeIndex<c.length-1?c.activeIndex+1:0,"forward")},f,!0)}var e=c.config,f=e.interval*1e3,g;if(!e.autoplay)return;h(),c.stop=function(){g&&(g.cancel(),g=d),c.paused=!0},c.start=function(){g&&(g.cancel(),g=d),c.paused=!1,h()},e.pauseOnHover&&(b.on(c.container,"mouseenter",c.stop,c),b.on(c.container,"mouseleave",c.start,c))}}),c},{requires:["event","./base"]}),KISSY.add("switchable/autorender",function(a,b,c,d){d.autoRender=function(d,e){d="."+(d||"KS_Widget"),b.query(d,e).each(function(b){var d=b.getAttribute("data-widget-type"),e;if(d&&"Switchable Tabs Slide Carousel Accordion".indexOf(d)>-1)try{e=b.getAttribute("data-widget-config"),e&&(e=e.replace(/'/g,'"')),new a[d](b,c.parse(e))}catch(f){a.log("Switchable.autoRender: "+f,"warn")}})}},{requires:["dom","json","switchable/base"]}),KISSY.add("switchable/carousel/base",function(a,b,c,d,e){function k(a,b){var c=this;if(!(c instanceof k))return new k(a,b);k.superclass.constructor.apply(c,arguments)}var f="ks-switchable-",g=".",h="prevBtn",i="nextBtn",j={originalEvent:{target:1}};return k.Config={circular:!0,prevBtnCls:f+"prev-btn",nextBtnCls:f+"next-btn",disableBtnCls:f+"disable-btn"},k.Plugins=[],a.extend(k,d,{_init:function(){var d=this;k.superclass._init.call(d);var f=d.config,l=f.disableBtnCls;a.each(["prev","next"],function(a){var e=d[a+"Btn"]=b.get(g+f[a+"BtnCls"],d.container);c.on(e,"mousedown",function(c){c.preventDefault(),b.hasClass(e,l)||d[a](j)})}),f.circular||d.on("switch",function(a){var c=a.currentIndex,f=c===0?d[h]:c===d.length-1?d[i]:e;b.removeClass([d[h],d[i]],l),f&&b.addClass(f,l)}),c.on(d.panels,"click",function(){d.fire("itemSelected",{item:this})})}}),k},{requires:["dom","event","../base"]}),KISSY.add("switchable/carousel/aria",function(a,b,c,d,e){function p(b){var c=this,d=c.config.steps,e=b.currentIndex,f=c.activeIndex,g=c.panels,h=g[e*d],i=c.triggers,j=i[e],k=!!b.originalEvent.target||!!b.originalEvent.srcElement;if(k||f==-1)a.each(i,function(a){l(a,-1)}),a.each(g,function(a){l(a,-1)}),j&&l(j,0),l(h,0),k&&h.focus()}function q(c){var d;return a.each(this.triggers,function(a){if(a==c||b.contains(a,c))return d=a,!1}),d}function r(a){var c=b.next(a),d=this.triggers;c||(c=d[0]),l(a,-1),c&&(l(c,0),c.focus())}function s(a){var c=b.prev(a),d=this.triggers;c||(c=d[d.length-1]),l(a,-1),c&&(l(c,0),c.focus())}function t(b){var c=b.keyCode,d=b.target,e;switch(c){case i:case h:e=q.call(this,d),e&&(r.call(this,e),b.halt());break;case g:case f:e=q.call(this,d),e&&(s.call(this,e),b.halt());break;case k:case j:e=q.call(this,d),e&&(this.switchTo(a.indexOf(e,this.triggers),undefined,m),b.halt())}}function u(c){var d;return a.each(this.panels,function(a){if(a==c||b.contains(a,c))return d=a,!1}),d}function v(a){var c=b.next(a),d=this.panels;c||(c=d[0]),l(a,-1),l(c,0),x.call(this,c,n)&&c.focus()}function w(a){var c=b.prev(a),d=this.panels;c||(c=d[d.length-1]),l(a,-1),l(c,0),x.call(this,c,o)&&c.focus()}function x(b,c){var d=a.indexOf(b,this.panels),e=this.config.steps,f=Math.floor(d/e);return f==this.activeIndex?1:d%e==0||d%e==e-1?(this.switchTo(f,c,m),0):1}function y(a){var b=a.keyCode,c=a.target,d;switch(b){case i:case h:d=u.call(this,c),d&&(v.call(this,d),a.halt());break;case g:case f:d=u.call(this,c),d&&(w.call(this,d),a.halt());break;case k:case j:d=u.call(this,c),d&&(this.fire("itemSelected",{item:d}),a.halt())}}var f=37,g=38,h=39,i=40,j=32,k=13,l=d.setTabIndex,m={originalEvent:{target:1}},n="forward",o="backward";a.mix(e.Config,{aria:!1}),e.Plugins.push({name:"aria",init:function(b){if(!b.config.aria)return;var d=b.triggers,e=b.panels,f=b.content,g=b.activeIndex;f.id||(f.id=a.guid("ks-switchbale-content")),f.setAttribute("role","listbox");var h=0;a.each(d,function(a){l(a,g==h?"0":"-1"),a.setAttribute("role","button"),a.setAttribute("aria-controls",f.id),h++}),h=0,a.each(e,function(a){l(a,"-1"),a.setAttribute("role","option"),h++}),b.on("switch",p,b);var i=b.nav;i&&c.on(i,"keydown",t,b),c.on(f,"keydown",y,b);var n=b.prevBtn,o=b.nextBtn;n&&(l(n,0),n.setAttribute("role","button"),c.on(n,"keydown",function(a){if(a.keyCode==k||a.keyCode==j)b.prev(m),a.preventDefault()})),o&&(l(o,0),o.setAttribute("role","button"),c.on(o,"keydown",function(a){if(a.keyCode==k||a.keyCode==j)b.next(m),a.preventDefault()}))}})},{requires:["dom","event","../aria","./base"]}),KISSY.add("switchable/effect",function(a,b,c,d,e,f){var g="display",h="block",i="none",j="opacity",k="z-index",l="position",m="relative",n="absolute",o="scrollx",p="scrolly",q="fade",r="left",s="top",t="float",u="px",v;return a.mix(e.Config,{effect:i,duration:.5,easing:"easeNone"}),e.Effects={none:function(a,c,d){a&&b.css(a,g,i),b.css(c,g,h),d&&d()},fade:function(c,e,g){c&&c.length!==1&&a.error("fade effect only supports steps == 1.");var h=this,i=h.config,l=c?c[0]:null,m=e[0];h.anim&&(h.anim.stop(),b.css(h.anim.fromEl,{zIndex:1,opacity:0}),b.css(h.anim.toEl,"zIndex",9)),b.css(m,j,1),l?(h.anim=(new d(l,{opacity:0},i.duration,i.easing,function(){h.anim=f,b.css(m,k,9),b.css(l,k,1),g&&g()})).run(),h.anim.toEl=m,h.anim.fromEl=l):(b.css(m,k,9),g&&g())},scroll:function(a,c,e,g){var h=this,i=h.config,j=i.effect===o,k=h.viewSize[j?0:1]*g,l={};l[j?r:s]=-k+u,h.anim&&h.anim.stop(),a?h.anim=(new d(h.content,l,i.duration,i.easing,function(){h.anim=f,e&&e()})).run():(b.css(h.content,l),e&&e())}},v=e.Effects,v[o]=v[p]=v.scroll,e.Plugins.push({name:"effect",init:function(c){var d=c.config,e=d.effect,f=c.panels,j=c.content,k=d.steps,s=c.activeIndex,u=f.length;c.viewSize=[d.viewSize[0]||f[0].offsetWidth*k,d.viewSize[1]||f[0].offsetHeight*k];if(e!==i){b.css(f,g,h);switch(e){case o:case p:b.css(j,l,n),b.css(j.parentNode,l)=="static"&&b.css(j.parentNode,l,m),e===o&&(b.css(f,t,r),b.width(j,c.viewSize[0]*(u/k)));break;case q:var v=s*k,w=v+k-1,x;a.each(f,function(a,c){x=c>=v&&c<=w,b.css(a,{opacity:x?1:0,position:n,zIndex:x?9:1})})}}}}),a.augment(e,{_switchView:function(b,c,d,e,f,g){var h=this,i=h.config,j=i.effect,k=a.isFunction(j)?j:v[j];k.call(h,b,c,function(){h._fireOnSwitch(d,f),g&&g.call(h)},d,e)}}),e},{requires:["dom","event","anim","switchable/base"]}),KISSY.add("switchable/circular",function(a,b,c,d){function o(a,d,e,f,i){var n=this,o=n.config,r=n.length,s=n.activeIndex,t=o.scrollType===m,u=t?g:h,v=n.viewSize[t?0:1],w=-v*f,x={},y,z=i===l;y=z&&s===0&&f===r-1||i===k&&s===r-1&&f===0,y&&(w=p.call(n,n.panels,f,z,u,v)),x[u]=w+j,n.anim&&n.anim.stop(),a?n.anim=(new c(n.content,x,o.duration,o.easing,function(){y&&q.call(n,n.panels,f,z,u,v),n.anim=undefined,e&&e()})).run():(b.css(n.content,x),e&&e())}function p(a,c,d,g,h){var i=this,j=i.config,k=j.steps,l=i.length,m=d?l-1:0,n=m*k,o=(m+1)*k,p,q=a.slice(n,o);return b.css(q,e,f),b.css(q,g,(d?-1:1)*h*l),d?h:-h*l}function q(a,c,d,f,g){var h=this,j=h.config,k=j.steps,l=h.length,m=d?l-1:0,n=m*k,o=(m+1)*k,p,q=a.slice(n,o);b.css(q,e,i),b.css(q,f,i),b.css(h.content,f,d?-g*(l-1):i)}var e="position",f="relative",g="left",h="top",i="",j="px",k="forward",l="backward",m="scrollx",n="scrolly";a.mix(d.Config,{circular:!1}),d.Plugins.push({name:"circular",init:function(a){var b=a.config;b.circular&&(b.effect===m||b.effect===n)&&(b.scrollType=b.effect,b.effect=o)}})},{requires:["dom","anim","./base","./effect"]}),KISSY.add("switchable/countdown",function(a,b,c,d,e,f){var g="ks-switchable-trigger-",h=g+"mask",i=g+"content",j="style";return a.mix(e.Config,{countdown:!1,countdownFromStyle:"",countdownToStyle:"width: 0"}),e.Plugins.push({name:"countdown",init:function(e){function r(a){s(),q=(new d(n[a],p,l-1)).run()}function s(){k&&(clearTimeout(k),k=null),q&&(q.stop(),q=f)}var g=e.config,k,l=g.interval,m=e.triggers,n=[],o=g.countdownFromStyle,p=g.countdownToStyle,q;if(!g.autoplay||!g.hasTriggers||!g.countdown)return;a.each(m,function(a,b){a.innerHTML='<div class="'+h+'"></div>'+'<div class="'+i+'">'+a.innerHTML+"</div>",n[b]=a.firstChild}),g.pauseOnHover&&(c.on(e.container,"mouseenter",function(){s();var a=n[e.activeIndex];o?q=(new d(a,o,.2,"easeOut")).run():b.attr(a,j,"")}),c.on(e.container,"mouseleave",function(){s();var a=e.activeIndex;b.attr(n[a],j,o),k=setTimeout(function(){r(a)},200)})),e.on("beforeSwitch",function(){s(),n[e.activeIndex]&&b.attr(n[e.activeIndex],j,o||"")}),e.on("switch",function(a){e.paused||r(a.currentIndex)}),e.activeIndex>-1&&r(e.activeIndex)}}),e},{requires:["dom","event","anim","./base"]}),KISSY.add("switchable/lazyload",function(a,b,c){var d="beforeSwitch",e="img",f="textarea",g={};return g[e]="data-ks-lazyload-custom",g[f]="ks-datalazyload-custom",a.mix(c.Config,{lazyDataType:f}),c.Plugins.push({name:"lazyload",init:function(c){function l(a){var b=i.steps,e=a.toIndex*b,f=e+b;h.loadCustomLazyData(c.panels.slice(e,f),j),m()&&c.detach(d,l)}function m(){var a,d=j===e,g=d?"img":j===f?"textarea":"";if(g){a=b.query(g,c.container);for(var h=0,i=a.length;h<i;h++){var l=a[h];if(d?b.attr(l,k):b.hasClass(l,k))return!1}}return!0}var h=a.require("datalazyload"),i=c.config,j,k;i.lazyDataType==="img-src"&&(i.lazyDataType=e),i.lazyDataType==="area-data"&&(i.lazyDataType=f),j=i.lazyDataType,k=g[j];if(!h||!j||!k)return;c.on(d,l)}}),c},{requires:["dom","./base"]}),KISSY.add("switchable/slide/base",function(a,b){function c(a,b){var d=this;if(!(d instanceof c))return new c(a,b);c.superclass.constructor.apply(d,arguments)}return c.Config={autoplay:!0,circular:!0},c.Plugins=[],a.extend(c,b),c},{requires:["../base"]}),KISSY.add("switchable/slide/aria",function(a,b,c,d,e){function l(a){var b=this,c=a.keyCode;switch(c){case i:case h:b.next(j),a.halt();break;case g:case f:b.prev(j),a.halt()}}var f=37,g=38,h=39,i=40;a.mix(e.Config,{aria:!1});var j={originalEvent:{target:1}},k=d.setTabIndex;e.Plugins.push({name:"aria",init:function(d){if(!d.config.aria)return;var e=d.triggers,f=d.panels,g=0,h=d.activeIndex;a.each(e,function(a){k(a,"-1"),g++}),g=0,a.each(f,function(a){k(a,h==g?"0":"-1"),b.attr(a,"role","option"),g++});var i=d.content;b.attr(i,"role","listbox"),c.on(i,"keydown",l,d),k(f[0],0),d.on("switch",function(a){var b=a.currentIndex,c=!!a.originalEvent.target||!!a.originalEvent.srcElement,e=d.completedIndex;e>-1&&k(f[e],-1),k(f[b],0),c&&f[b].focus()})}})},{requires:["dom","event","../aria","./base"]}),KISSY.add("switchable/tabs/base",function(a,b){function c(a,b){var d=this;return d instanceof c?(c.superclass.constructor.call(d,a,b),0):new c(a,b)}return a.extend(c,b),c.Config={},c.Plugins=[],c},{requires:["../base"]}),KISSY.add("switchable/tabs/aria",function(a,b,c,d,e,f){function q(c){var d=this.triggers,e;return a.each(d,function(a){if(a==c||b.contains(a,c))e=a}),e}function r(a){switch(a.keyCode){case g:case h:a.ctrlKey&&!a.altKey&&!a.shiftKey&&a.halt();break;case o:a.ctrlKey&&!a.altKey&&a.halt()}}function t(a){var b=a.target,c=this,d=c.triggers,e=!a.ctrlKey&&!a.shiftKey&&!a.altKey,f=a.ctrlKey&&!a.shiftKey&&!a.altKey;switch(a.keyCode){case k:case l:q.call(c,b)&&(c.prev(s(a)),a.halt());break;case m:case n:q.call(c,b)&&(c.next(s(a)),a.halt());break;case h:f&&(a.halt(),c.next(s(a)));break;case g:f&&(a.halt(),c.prev(s(a)));break;case o:a.ctrlKey&&!a.altKey&&(a.halt(),a.shiftKey?c.prev(s(a)):c.next(s(a)))}}function u(a){var b=!!a.originalEvent.target||!!a.originalEvent.srcElement,c=this,d=c.completedIndex,e=a.currentIndex;if(d==e)return;var f=c.triggers[d],g=c.triggers[e],h=c.panels[d],i=c.panels[e];f&&p(f,"-1"),p(g,"0"),b&&g.focus(),h&&h.setAttribute("aria-hidden","true"),i.setAttribute("aria-hidden","false")}var g=33,h=34,i=35,j=36,k=37,l=38,m=39,n=40,o=9;a.mix(f.Config,{aria:!0}),f.Plugins.push({name:"aria",init:function(d){if(!d.config.aria)return;var e=d.triggers,f=d.activeIndex,g=d.panels,h=d.container;d.nav&&b.attr(d.nav,"role","tablist");var i=0;a.each(e,function(b){b.setAttribute("role","tab"),p(b,f==i?"0":"-1"),b.id||(b.id=a.guid("ks-switchable")),i++}),i=0,a.each(g,function(a){var b=e[i];a.setAttribute("role","tabpanel"),a.setAttribute("aria-hidden",f==i?"false":"true"),a.setAttribute("aria-labelledby",b.id),i++}),d.on("switch",u,d),c.on(h,"keydown",t,d),c.on(h,"keypress",r,d)}});var p=e.setTabIndex,s=d.getDomEvent},{requires:["dom","event","../base","../aria","./base"]}),KISSY.add("switchable",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){a.Switchable=b;var r={Accordion:d,Carousel:h,Slide:n,Tabs:p};return a.mix(a,r),a.mix(b,r),b},{requires:["switchable/base","switchable/aria","switchable/accordion/base","switchable/accordion/aria","switchable/autoplay","switchable/autorender","switchable/carousel/base","switchable/carousel/aria","switchable/circular","switchable/countdown","switchable/effect","switchable/lazyload","switchable/slide/base","switchable/slide/aria","switchable/tabs/base","switchable/tabs/aria"]});